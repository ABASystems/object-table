$selection-colour: #337ab7
$copying-colour: desaturate($selection-colour, 100%)
$cell-padding: 8px 4px

div.object-table-container
  margin-bottom: 2em
  table
    width: 100%
    border: none !important
    outline: none !important
    font-size: 14px
    border-collapse: collapse

    &.editing
      td
        div.contents
          opacity: 0.2
        &.editing div.contents
          opacity: 1

    //    borders
    $border: 1px solid #ddd
    $border-radius: 4px

    // // border everything
    // tr td, tr th
    //   border: $border
    //   margin-bottom: -1px

    // border outside
    tr:first-child
      th:first-child
        border-top-left-radius: $border-radius
      th:last-child
        border-top-right-radius: $border-radius
    tr:last-child
      td:first-child
        border-bottom-left-radius: $border-radius
      td:last-child
        border-bottom-right-radius: $border-radius
    tr:first-child
      td, th
        border-top: $border
    tr:last-child
      td
        border-bottom: $border
    td:first-child, th:first-child
      border-left: $border
    td:last-child, th:last-child
      border-right: $border
    td.actions
      border-left: $border
      i
        cursor: pointer

    tr.disabled
      opacity: 0.5
    td, th
      div.contents
        transition: opacity 0.2s

      -webkit-box-sizing: border-box
      -moz-box-sizing: border-box
      -ms-box-sizing: border-box
      box-sizing: border-box

      // no selecting
      -webkit-user-select: none
      -moz-user-select: none
      -ms-user-select: none
      user-select: none

    &:not(.editing)
      td
        $bkg-fade: 35%
        &.selected
          background: lighten($selection-colour, $bkg-fade)
        &.copying
          background: lighten($copying-colour, $bkg-fade)
        &.copying.selected
          background: lighten(mix($selection-colour, $copying-colour, 50%), $bkg-fade)

    th
      padding: $cell-padding

    td.actions
      position: relative
      text-align: center
      font-size: 12px
      ul.actions
        line-height: 1em
        text-align: left
        position: absolute
        top: 0px
        right: 0px
        list-style: none
        padding: 0
        z-index: 20
        background: #fff
        border: 1px solid #eee
        border-radius: 4px
        min-width: 150px
        li
          display: block
          padding: 10px
          cursor: pointer
          font-size: 15px
          &:hover
            background: $selection-colour
            color: #fff
    td.uneditable
      background: #fafafa

// all editors by default
div.object-table-container
  td.editor
    input
      box-shadow: none
      width: 100%
      padding: $cell-padding
      margin: 0
      border: none
      outline: none
      background: none

// all drawers by default
div.object-table-container
  td.drawer, td.empty
    padding: $cell-padding

@import 'drawers/text'
@import 'editors/text'
